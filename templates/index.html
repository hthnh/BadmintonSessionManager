<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá th·ªëng Qu·∫£n l√Ω S√¢n C·∫ßu L√¥ng</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>
</head>
<body>
    <div class="page-container">
        
        <aside class="sidebar">
            <div class="sidebar__header">
                <h4>üè∏ <span class="sidebar__logo-text">Navigator</span></h4>
            </div>
            <nav class="sidebar__nav">
                <a href="/" class="nav-item active">
                    <span class="nav-item__icon">üìä</span>
                    <span class="nav-item__text">Dashboard</span>
                </a>

                <a href="/manage-players" class="nav-item">
                    <span class="nav-item__icon">‚úÖ</span>
                    <span class="nav-item__text">Player Manage</span>
                </a>

                <a href="/manage-courts" class="nav-item">
                    <span class="nav-item__icon">üèüÔ∏è</span>
                    <span class="nav-item__text">Courts Manage</span>
                </a>
                
                <a href="/history" class="nav-item">
                    <span class="nav-item__icon">üìÑ</span>
                    <span class="nav-item__text">History</span>
                </a>

                <a href="/settings" class="nav-item">
                    <span class="nav-item__icon">‚öôÔ∏è</span>
                    <span class="nav-item__text">Settings</span>
                </a>
            </nav>
            <div class="sidebar__footer">
                <div id="clock" class="clock">ƒêang t·∫£i...</div>
            </div>
        </aside>

        <main class="main-content">
            <header class="main-content__header">
                <h1>B·∫£ng ƒëi·ªÅu khi·ªÉn tr·∫≠n ƒë·∫•u</h1>
                <button id="manage-scoreboards-btn" class="button button--secondary">‚öôÔ∏è Qu·∫£n l√Ω B·∫£ng ƒëi·ªÉm</button>
                
            </header>
            <section id="session-control-bar" class="card" style="margin: 0 1.5rem; padding: 1rem 1.5rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong>Tr·∫°ng th√°i phi√™n:</strong>
                    <span id="session-status-text">ƒêang t·∫£i...</span>
                </div>
                <div id="session-action-buttons">
                    </div>
            </section>
            <div class="main-grid-container">
                <section id="queue-and-courts-column" class="grid-column">
                    <div class="card">
                        <div class="card__header">
                            <h2 class="card__title">H√†ng ch·ªù (Queue)</h2>
                            <button id="suggest-btn" class="button button--secondary">T·∫°o tr·∫≠n</button>
                        </div>
                        <div id="queue-container" class="list-container">
                            <div class="list-item-placeholder">Ch∆∞a c√≥ tr·∫≠n ƒë·∫•u n√†o trong h√†ng ch·ªù.</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card__header">
                            <h2 class="card__title">C√°c s√¢n ƒëang ho·∫°t ƒë·ªông</h2>
                            <button id="manage-courts-btn" class="button button--secondary">Qu·∫£n l√Ω s√¢n</button>
                        </div>
                        <div id="active-courts-container" class="list-container">
                            <div class="list-item-placeholder">Ch∆∞a c√≥ s√¢n n√†o ho·∫°t ƒë·ªông.</div>
                        </div>
                    </div>
                </section>
                <section id="history-column" class="grid-column">
                    <div class="card">
                        <div class="card__header">
                            <h2 class="card__title">L·ªãch s·ª≠ tr·∫≠n ƒë·∫•u</h2>
                            <button id="export-history-btn" class="button button--secondary">M·ªü r·ªông</button>
                        </div>
                        <div id="match-history-container" class="list-container list-container--scrollable">
                            <div class="list-item-placeholder">Ch∆∞a c√≥ l·ªãch s·ª≠ tr·∫≠n ƒë·∫•u.</div>
                        </div>
                    </div>
                </section>
                <section id="players-column" class="grid-column">
                    <div class="card">
                        <div class="card__header">
                            <h2 class="card__title">Ng∆∞·ªùi ch∆°i c√≥ m·∫∑t</h2>
                            <button id="attendance-btn" class="button button--secondary">ƒêi·ªÉm danh</button>
                        </div>
                        <div id="active-players-container" class="list-container list-container--scrollable">
                            <div class="list-item-placeholder">Ch∆∞a c√≥ ng∆∞·ªùi ch∆°i n√†o.</div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <div id="attendance-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ƒêi·ªÉm danh ng∆∞·ªùi ch∆°i</h2>
                <span id="close-attendance-modal" class="close-btn">&times;</span>
            </div>
            <div class="modal-body" id="attendance-list-container">
                </div>
            <div class="modal-footer">
                <button id="save-attendance-btn" class="button button--primary">L∆∞u thay ƒë·ªïi</button>
            </div>
        </div>
    </div>

    <div id="finish-match-modal" class="modal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2 id="finish-modal-title">K·∫øt th√∫c tr·∫≠n ƒë·∫•u</h2>
                <span id="close-finish-modal" class="close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <form id="finish-match-form" onsubmit="return false;">
                    <input type="hidden" id="finish-match-id-input">
                    <p>Vui l√≤ng nh·∫≠p ƒëi·ªÉm s·ªë cu·ªëi c√πng c·ªßa tr·∫≠n ƒë·∫•u.</p>
                    <div style="display: flex; gap: 1rem; align-items: center; justify-content: center; margin: 1.5rem 0;">
                        <div class="form-group">
                            <label for="score-a-input" style="font-size: 1.2rem; font-weight: 700;">ƒê·ªôi A</label>
                            <input type="number" id="score-a-input" required min="0" style="text-align: center; font-size: 1.5rem; padding: 0.5rem;">
                        </div>
                        <span style="font-size: 2rem; font-weight: 700;">-</span>
                        <div class="form-group">
                            <label for="score-b-input" style="font-size: 1.2rem; font-weight: 700;">ƒê·ªôi B</label>
                            <input type="number" id="score-b-input" required min="0" style="text-align: center; font-size: 1.5rem; padding: 0.5rem;">
                        </div>
                    </div>
                    <p id="finish-modal-error" style="color: #dc3545; text-align: center; display: none; font-weight: 700;">ƒêi·ªÉm s·ªë kh√¥ng h·ª£p l·ªá. Hai ƒë·ªôi kh√¥ng ƒë∆∞·ª£c h√≤a nhau.</p>
                </form>
            </div>
            <div class="modal-footer">
                <button id="save-match-result-btn" class="button button--primary">L∆∞u k·∫øt qu·∫£</button>
            </div>
        </div>
    </div>
    <div id="scoreboard-manager-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>Qu·∫£n l√Ω & G√°n B·∫£ng ƒëi·ªÉm</h2>
                <span id="close-scoreboard-modal" class="close-btn">&times;</span>
            </div>
            <div class="modal-body" id="scoreboard-manager-content">
                <p>ƒêang t·∫£i danh s√°ch s√¢n v√† thi·∫øt b·ªã...</p>
            </div>
        </div>
    </div>
    <div id="assign-court-modal" class="modal">
    <div class="modal-content" style="max-width: 450px;">
        <div class="modal-header">
            <h2>G√°n s√¢n v√† B·∫Øt ƒë·∫ßu tr·∫≠n ƒë·∫•u</h2>
            <span id="close-assign-modal" class="close-btn">&times;</span>
        </div>
        <div class="modal-body">
            <form id="assign-court-form" onsubmit="return false;">
                <input type="hidden" id="assign-match-id-input">
                <div class="form-group">
                    <label for="assign-court-select">Ch·ªçn s√¢n tr·ªëng:</label>
                    <select id="assign-court-select" required>
                        </select>
                </div>
                <p id="assign-court-error" style="color: #dc3545; text-align: center; display: none;">Vui l√≤ng ch·ªçn m·ªôt s√¢n.</p>
            </form>
        </div>
        <div class="modal-footer">
            <button id="confirm-assign-btn" class="button button--primary">B·∫Øt ƒë·∫ßu tr·∫≠n</button>
        </div>
    </div>
</div>
    <script src="{{ url_for('static', filename='app.js') }}" type="module"></script>
</body>
</html>